<div class="container">
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" class="form-control" formControlName="email" required>
      <div *ngIf="feedbackForm.controls['message'].invalid && feedbackForm.controls['message'].touched" class="text-danger">
        Please enter your message.
      </div>
    </div>
    <div class="form-group">
      <label for="message">Message</label>
      <textarea id="message" class="form-control" formControlName="message" rows="5" required></textarea>
      <div *ngIf="feedbackForm.controls['message'].invalid && feedbackForm.controls['message'].touched" class="text-danger">
        Please enter your message.
      </div>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!feedbackForm.valid">
      <span *ngIf="!isLoading; else loading">Submit</span>
      <ng-template #loading>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Loading...
      </ng-template>
    </button>
  </form>
  <div *ngIf="submitStatus" class="alert"
       [ngClass]="{'alert-success': feedbackForm.valid, 'alert-danger': !feedbackForm.valid}">
    {{ submitStatus }}
  </div>
</div>
